# Makefile --
#
# This file is a Makefile to compile Tix with Tk version
# 8.1. If it has the name "Makefile.in" then it is a
# template for a Makefile; to generate the actual Makefile, run
# "./configure", which is a configuration script generated by the
# "autoconf" program (constructs like "@foo@" will get replaced in the
# actual Makefile.

# CYGNUS LOCAL: Set VPATH.

srcdir = .

#----------------------------------------------------------------
# Things you can change to personalize the Makefile for your own
# site (you can make these changes in either Makefile.in or
# Makefile, but changes to Makefile will get lost if you re-run
# the configuration script).
#----------------------------------------------------------------

# Default top-level directories in which to install architecture-
# specific files (exec_prefix) and machine-independent files such
# as scripts (prefix).  The values specified here may be overridden
# at configure-time with the --exec-prefix and --prefix options
# to the "configure" script.

prefix      = /opt/sourcenav
exec_prefix = /opt/sourcenav
TIX_VERSION = 4.1
DESTDIR = 



# Directory in which to install the library of Tix scripts and demos
# (note: you can set the TIX_LIBRARY environment variable at run-time to
# override the compiled-in location):
TIX_LIBRARY =	$(prefix)/share/tix$(TIX_VERSION)

# Directory in which to install the archive libtix.a:
LIB_DIR =	$(exec_prefix)/lib
LIB_INSTALL_DIR = $(LIB_DIR)
LIB_RUNTIME_DIR = $(LIB_DIR)

# Directory in which to install the program tixwish:
BIN_DIR =	$(exec_prefix)/bin

# To change the compiler switches, for example to change from -O
# to -g, change the following line:
CFLAGS = 
TIX_CFLAGS = $(CFLAGS)

# To disable ANSI-C procedure prototypes reverse the comment characters
# on the following lines:
PROTO_FLAGS =
#PROTO_FLAGS = -DNO_PROTOTYPE

# To enable memory debugging reverse the comment characters on the following
# lines. Warning: if you enable memory debugging, you must do it
# *everywhere*, including all the code that calls Tcl, and you must use
# ckalloc and ckfree everywhere instead of malloc and free.
MEM_DEBUG_FLAGS =
#MEM_DEBUG_FLAGS = -DTCL_MEM_DEBUG

# Some versions of make, like SGI's, use the following variable to
# determine which shell to use for executing commands:
SHELL =		/bin/sh

# Location of the Tcl 8.1 source directory.
#
TCL_SRC_DIR     = /home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tcl
TCL_GENERIC_DIR = $(TCL_SRC_DIR)/generic
TCL_BIN_DIR	= /opt/sourcenav/bin

# Location of the Tk 8.1 source directory.
#
TK_SRC_DIR      = /home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tk
TK_GENERIC_DIR  = $(TK_SRC_DIR)/generic

# Libraries to use when linking:
LIBS =   \
    -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tk/unix -ltk8.3 -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tcl/unix -ltcl8.3 -lX11 -ldl  -lieee -lm

# Libraries for building a stand-alone Tclsh.
#
LIBS_TCLONLY = -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tcl/unix -ltcl8.3 -ldl  -lieee -lm

RUN_TCLSH	= TCL_LIBRARY=$(TCL_SRC_DIR)/library \
		  TK_LIBRARY=$(TK_SRC_DIR)/library \
	          $(TCL_BIN_DIR)/tclsh8.3


#----------------------------------------------------------------
# The information below is modified by the configure script when
# Makefile is generated from Makefile.in.  You shouldn't normally
# modify any of this stuff by hand.
#----------------------------------------------------------------

CC		 = gcc -pipe

SHLIB_CFLAGS	 = -fPIC
SHLIB_LD	 = gcc -pipe -shared
SHLIB_SUFFIX	 = .so
SHLIB_VERSION	 = 
TIX_SHLIB_CFLAGS = 
TK_XINCLUDES     = # no special path needed

ITCL_EXT =

SRC_DIR		 = /home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix
GENERIC_DIR	 = $(SRC_DIR)/generic
UNIX_DIR	 = $(SRC_DIR)/unix
AC_FLAGS	 = -DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DHAVE_LIMITS_H=1 -DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_UNISTD_H=1 -DHAVE_LIMITS_H=1 -DHAVE_SYS_TIME_H=1 -DTIME_WITH_SYS_TIME=1 -DHAVE_PW_GECOS=1 -DSTATIC_BUILD=1 -DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_UNISTD_H=1 -DHAVE_LIMITS_H=1 -DHAVE_GETCWD=1 -DHAVE_OPENDIR=1 -DHAVE_STRSTR=1 -DHAVE_STRTOL=1 -DHAVE_TMPNAM=1 -DHAVE_WAITPID=1 -DHAVE_UNISTD_H=1 -DHAVE_SYS_PARAM_H=1 -DHAVE_SYS_TIME_H=1 -DTIME_WITH_SYS_TIME=1 -DHAVE_STRUCT_TM_TM_ZONE=1 -DHAVE_TM_ZONE=1 -DHAVE_TM_GMTOFF=1 -DHAVE_TIMEZONE_VAR=1 -DHAVE_TIMEZONE_DECL=1 -DHAVE_STRUCT_STAT_ST_BLKSIZE=1 -DNEED_MATHERR=1 -DRETSIGTYPE=void -DHAVE_SIGNED_CHAR=1 -DHAVE_SYS_IOCTL_H=1 -DSTATIC_BUILD=1
RANLIB		 = ranlib
TIX_RANLIB	 = $(RANLIB)
INSTALL		 = /home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/install.sh -c
INSTALL_PROGRAM  = ${INSTALL}
INSTALL_DATA	 = ${INSTALL} -m 644

TIX_LIB_FILE     = libtix4.1.8.1.a
TIX_EXE_FILE     = tixwish
TCL_SAM_FILE	 = libtclsam8.1.a
TK_SAM_FILE	 = libtksam8.1.a
TIX_SAM_FILE	 = libtixsam4.1.8.1.a
TCL_SAMEXE_FILE	 = satclsh
TK_SAMEXE_FILE	 = sawish
TIX_SAMEXE_FILE	 = satixwish

INST_EXE         = $(TIX_EXE_FILE)$(TIX_VERSION).8.1$(ITCL_EXT)
INST_TIX_SAMEXE  = $(TIX_SAMEXE_FILE)$(TIX_VERSION).8.1$(ITCL_EXT)
INST_TK_SAMEXE   = $(TK_SAMEXE_FILE)8.1
INST_TCL_SAMEXE  = $(TCL_SAMEXE_FILE)8.1

SAM_TARGETS     = $(TIX_SAM_FILE)

TIX_SAM_TARGETS	= 
SAM_INSTALL	= 

ITCL_CFLAGS	 =

CC_SWITCHES = $(TIX_CFLAGS) $(AC_FLAGS) -I$(TCL_GENERIC_DIR) \
    -I$(TCL_SRC_DIR)/unix -I$(TK_GENERIC_DIR) -I$(TK_SRC_DIR)/unix \
    $(ITCL_CFLAGS) \
    -I$(GENERIC_DIR) -I$(UNIX_DIR) $(TK_XINCLUDES) $(TIX_SHLIB_CFLAGS)

#----------------------------------------------------------------
# The information below should be usable as is. You shouldn't need
# to modify it.
#----------------------------------------------------------------

CORE_OBJS = \
	tixClass.o \
	tixCmds.o \
	tixCompat.o \
	tixError.o \
	tixGeometry.o \
	tixInit.o \
	tixItcl.o \
	tixList.o \
	tixMethod.o \
	tixOption.o  \
	tixScroll.o \
	tixSmpLs.o \
	tixUtils.o \
	tixWidget.o

DITEM_OBJS = \
	tixDItem.o \
	tixDiITxt.o \
	tixDiImg.o \
	tixDiStyle.o \
	tixDiText.o \
	tixDiWin.o

MANAGER_OBJS = \
	tixForm.o \
	tixFormMisc.o

WIDGET_OBJS = \
	tixGrid.o \
	tixGrData.o \
	tixGrFmt.o \
	tixGrRC.o \
	tixGrSel.o \
	tixGrSort.o \
	tixGrUtl.o \
	tixHList.o \
	tixHLCol.o \
	tixHLInd.o \
	tixHLHdr.o \
	tixInputO.o \
	tixNBFrame.o \
	tixTList.o

MISC_OBJS = \
	tixImgCmp.o \
	tixImgXpm.o \
	tixMwm.o

UNIX_OBJS = \
	tixUnixDraw.o \
	tixUnixXpm.o \
	tixUnixWm.o

OBJS = $(CORE_OBJS) $(DITEM_OBJS) $(MANAGER_OBJS) $(MISC_OBJS) \
	$(WIDGET_OBJS) $(UNIX_OBJS)

TCL_SAM_OBJS = \
        tclUnixSam80.o

TK_SAM_OBJS = \
        tkUnixSam80.o

TIX_SAM_OBJS = \
        $(OBJS) tixUnixSam.o

#----------------------------------------------------------------------
# These are the scripts that we'll compile into the SAM's. The
# scripts of TK must be included in the fixed order.
#----------------------------------------------------------------------

TCL_SCRIPTS = $(TCL_SRC_DIR)/library/*.tcl

TK_SCRIPTS = \
    $(TK_SRC_DIR)/library/bgerror.tcl \
    $(TK_SRC_DIR)/library/dialog.tcl \
    $(TK_SRC_DIR)/library/focus.tcl \
    $(TK_SRC_DIR)/library/obsolete.tcl \
    $(TK_SRC_DIR)/library/optMenu.tcl \
    $(TK_SRC_DIR)/library/palette.tcl \
    $(TK_SRC_DIR)/library/tearoff.tcl \
    $(TK_SRC_DIR)/library/clrpick.tcl \
    $(TK_SRC_DIR)/library/comdlg.tcl \
    $(TK_SRC_DIR)/library/msgbox.tcl \
    $(TK_SRC_DIR)/library/tkfbox.tcl \
    $(TK_SRC_DIR)/library/xmfbox.tcl \
    $(SRC_DIR)/generic/tk4.2/tk.tcl \
    $(TK_SRC_DIR)/library/button.tcl \
    $(TK_SRC_DIR)/library/entry.tcl \
    $(TK_SRC_DIR)/library/listbox.tcl \
    $(TK_SRC_DIR)/library/menu.tcl \
    $(TK_SRC_DIR)/library/scale.tcl \
    $(TK_SRC_DIR)/library/scrlbar.tcl \
    $(TK_SRC_DIR)/library/text.tcl \
    $(SRC_DIR)/generic/tk8.0/console.tcl

TIX_SCRIPTS = \
    $(SRC_DIR)/library/pref/*.fsc \
    $(SRC_DIR)/library/pref/*.csc \
    $(SRC_DIR)/library/*.tcl

all: $(TIX_LIB_FILE) $(TIX_EXE_FILE) 

$(TIX_LIB_FILE): $(OBJS)
	rm -f $(TIX_LIB_FILE)
	ar cr libtix4.1.8.1.a ${OBJS}
	$(TIX_RANLIB) $(TIX_LIB_FILE)

$(TCL_SAM_FILE): $(TCL_SAM_OBJS)
	rm -f $(TCL_SAM_FILE)
	ar cr libtclsam8.1.a ${TCL_SAM_OBJS}
	$(TIX_RANLIB) $(TCL_SAM_FILE)

$(TK_SAM_FILE): $(TK_SAM_OBJS)
	rm -f $(TK_SAM_FILE)
	ar cr libtksam8.1.a ${TK_SAM_OBJS}
	$(TIX_RANLIB) $(TK_SAM_FILE)

$(TIX_SAM_FILE): $(TIX_SAM_OBJS)
	rm -f $(TIX_SAM_FILE)
	ar cr libtixsam4.1.8.1.a ${TIX_SAM_OBJS}
	$(TIX_RANLIB) $(TIX_SAM_FILE)

$(TIX_EXE_FILE): tixAppInit.o $(TIX_LIB_FILE) /home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tcl/unix/libtcl8.3.a \
		 
	$(CC) -rdynamic tixAppInit.o -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltix4.1.8.1 $(LIBS) \
		-Wl,-rpath,${LIB_RUNTIME_DIR} -o $(TIX_EXE_FILE)

$(TCL_SAMEXE_FILE): $(UNIX_DIR)/samAppInit.c $(TCL_SAM_FILE)
	$(CC) $(CC_SWITCHES) -rdynamic -DUSE_TCL $(UNIX_DIR)/samAppInit.c \
	    -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltclsam8.3 $(LIBS_TCLONLY) \
	    -Wl,-rpath,${LIB_RUNTIME_DIR} -o $(TCL_SAMEXE_FILE)

$(TK_SAMEXE_FILE): $(UNIX_DIR)/samAppInit.c $(TCL_SAM_FILE) $(TK_SAM_FILE) \
		/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tcl/unix/libtcl8.3.a  
	$(CC) $(CC_SWITCHES) -rdynamic -DUSE_TK $(UNIX_DIR)/samAppInit.c \
	    -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltksam8.3 -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltclsam8.3 $(LIBS) \
	    -Wl,-rpath,${LIB_RUNTIME_DIR} -o $(TK_SAMEXE_FILE)

$(TIX_SAMEXE_FILE): $(UNIX_DIR)/samAppInit.c $(TCL_SAM_FILE) $(TK_SAM_FILE) \
	        $(TIX_SAM_FILE) /home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tcl/unix/libtcl8.3.a  \
		
	$(CC) $(CC_SWITCHES) -rdynamic -DUSE_TIX $(UNIX_DIR)/samAppInit.c \
	    -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltixsam4.1.8.1 \
	    -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltksam8.3 -L/home/srk/srk/vimconfig/source_nav/sourcenavigator-NG4.5/tix/unix/tk8.3 -ltclsam8.3 \
	    $(LIBS) \
	    -Wl,-rpath,${LIB_RUNTIME_DIR} -o $(TIX_SAMEXE_FILE)


#----------------------------------------------------------------------
#
#			.o file rules
#
#----------------------------------------------------------------------
tixAppInit.o : tixAppInit.c
	$(CC) -c $(CC_SWITCHES) $(srcdir)/tixAppInit.c

tixClass.o : $(GENERIC_DIR)/tixClass.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixClass.c

tixCmds.o: $(GENERIC_DIR)/tixCmds.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixCmds.c

tixCompat.o: $(GENERIC_DIR)/tixCompat.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixCompat.c

tixDItem.o: $(GENERIC_DIR)/tixDItem.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixDItem.c

tixDiImg.o: $(GENERIC_DIR)/tixDiImg.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixDiImg.c

tixDiITxt.o: $(GENERIC_DIR)/tixDiITxt.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixDiITxt.c

tixDiStyle.o: $(GENERIC_DIR)/tixDiStyle.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixDiStyle.c

tixDiText.o: $(GENERIC_DIR)/tixDiText.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixDiText.c

tixDiWin.o: $(GENERIC_DIR)/tixDiWin.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixDiWin.c

tixError.o: $(GENERIC_DIR)/tixError.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixError.c

tixForm.o: $(GENERIC_DIR)/tixForm.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixForm.c

tixFormMisc.o: $(GENERIC_DIR)/tixFormMisc.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixFormMisc.c

tixGeometry.o: $(GENERIC_DIR)/tixGeometry.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGeometry.c

tixGrid.o: $(GENERIC_DIR)/tixGrid.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrid.c 

tixGrData.o: $(GENERIC_DIR)/tixGrData.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrData.c 

tixGrFmt.o: $(GENERIC_DIR)/tixGrFmt.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrFmt.c

tixGrRC.o: $(GENERIC_DIR)/tixGrRC.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrRC.c

tixGrSel.o: $(GENERIC_DIR)/tixGrSel.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrSel.c

tixGrSort.o: $(GENERIC_DIR)/tixGrSort.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrSort.c

tixGrUtl.o: $(GENERIC_DIR)/tixGrUtl.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixGrUtl.c

tixHLCol.o: $(GENERIC_DIR)/tixHLCol.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixHLCol.c

tixHLHdr.o: $(GENERIC_DIR)/tixHLHdr.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixHLHdr.c

tixHLInd.o: $(GENERIC_DIR)/tixHLInd.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixHLInd.c

tixHList.o: $(GENERIC_DIR)/tixHList.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixHList.c

tixImgCmp.o: $(GENERIC_DIR)/tixImgCmp.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixImgCmp.c

tixImgXpm.o: $(GENERIC_DIR)/tixImgXpm.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixImgXpm.c

tixInit.o: $(GENERIC_DIR)/tixInit.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixInit.c

tixItcl.o: $(GENERIC_DIR)/tixItcl.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixItcl.c

tixInputO.o : $(GENERIC_DIR)/tixInputO.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixInputO.c

tixList.o: $(GENERIC_DIR)/tixList.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixList.c

tixMethod.o : $(GENERIC_DIR)/tixMethod.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixMethod.c

tixMwm.o: $(GENERIC_DIR)/tixMwm.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixMwm.c

tixNBFrame.o: $(GENERIC_DIR)/tixNBFrame.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixNBFrame.c

tixOption.o: $(GENERIC_DIR)/tixOption.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixOption.c

tixSmpLs.o: $(GENERIC_DIR)/tixSmpLs.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixSmpLs.c

tixScroll.o: $(GENERIC_DIR)/tixScroll.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixScroll.c

tixTList.o: $(GENERIC_DIR)/tixTList.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixTList.c

tixUtils.o: $(GENERIC_DIR)/tixUtils.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixUtils.c

tixWidget.o: $(GENERIC_DIR)/tixWidget.c
	$(CC) -c $(CC_SWITCHES) $(GENERIC_DIR)/tixWidget.c

tixUnixDraw.o: $(UNIX_DIR)/tixUnixDraw.c
	$(CC) -c $(CC_SWITCHES) $(UNIX_DIR)/tixUnixDraw.c

tixUnixXpm.o: $(UNIX_DIR)/tixUnixXpm.c
	$(CC) -c $(CC_SWITCHES) $(UNIX_DIR)/tixUnixXpm.c

tixUnixWm.o: $(UNIX_DIR)/tixUnixWm.c
	$(CC) -c $(CC_SWITCHES) $(UNIX_DIR)/tixUnixWm.c

#
# Dependence rules for SAM
#
tclUnixSam80.o: tclUnixSam80.c tclSamLib.c
	$(CC) -c $(CC_SWITCHES) tclUnixSam80.c

tclSamLib.c:
	$(RUN_TCLSH) $(SRC_DIR)/tools/tclc.tcl $(TCL_SCRIPTS) \
	    > tclSamLib.c

tkUnixSam80.o: tkUnixSam80.c tkSamLib.c
	$(CC) -c $(CC_SWITCHES) tkUnixSam80.c

tkSamLib.c:
	$(RUN_TCLSH) $(SRC_DIR)/tools/tclc.tcl $(TK_SCRIPTS) \
	    > tkSamLib.c

tixUnixSam.o: $(UNIX_DIR)/tixUnixSam.c tixSamLib.c
	$(CC) -c -I. $(CC_SWITCHES) $(UNIX_DIR)/tixUnixSam.c

tixSamLib.c:
	$(RUN_TCLSH) $(SRC_DIR)/tools/tclc.tcl $(TIX_SCRIPTS) \
	    > tixSamLib.c


tests: $(TIX_EXE_FILE)
	TCL_LIBRARY=$(TCL_SRC_DIR)/library TK_LIBRARY=$(TK_SRC_DIR)/library \
	    ITCL_LIBRARY=$(ITCL_SRC_DIR)/library \
	    ITK_LIBRARY=$(ITK_SRC_DIR)/library \
	    IWIDGETS_LIBRARY=$(ITCL_ROOT_DIR)/$(IWIDGETS) \
	    TIX_LIBRARY=$(SRC_DIR)/library \
	    LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:. \
	    ./$(TIX_EXE_FILE) $(SRC_DIR)/tests/Driver.tcl

sa-tests: $(TIX_SAMEXE_FILE)
	./$(TIX_SAMEXE_FILE) $(SRC_DIR)/tests/Driver.tcl

#----------------------------------------------------------------------
#
#			INSTALLATION
#
#----------------------------------------------------------------------
_install_: $(TIX_LIB_FILE) $(TIX_EXE_FILE) $(SAM_INSTALL)
	@for i in $(LIB_DIR) $(BIN_DIR) ; \
	    do \
	    if [ ! -d $(DESTDIR)$$i ] ; then \
		echo "Making directory $$i"; \
		mkdir $(DESTDIR)$$i; \
		chmod 755 $(DESTDIR)$$i; \
		else true; \
		fi; \
	    done;
	@echo "Installing $(TIX_LIB_FILE) as $(DESTDIR)$(LIB_DIR)/$(TIX_LIB_FILE)"
	@$(INSTALL_DATA) $(TIX_LIB_FILE) $(DESTDIR)$(LIB_DIR)/$(TIX_LIB_FILE)
	@echo "Installing $(TIX_EXE_FILE) as $(DESTDIR)$(BIN_DIR)/$(INST_EXE)"
	@$(INSTALL_PROGRAM) $(TIX_EXE_FILE) $(DESTDIR)$(BIN_DIR)/$(INST_EXE)

_install_sam_exe_: $(SAM_TARGETS)
	@for i in $(LIB_DIR) $(BIN_DIR) ; \
	    do \
	    if [ ! -d $(DESTDIR)$$i ] ; then \
		echo "Making directory $$i"; \
		mkdir $(DESTDIR)$$i; \
		chmod 755 $(DESTDIR)$$i; \
		else true; \
		fi; \
	    done;
	@echo "Installing $(TK_SAM_FILE) as $(DESTDIR)$(LIB_DIR)/$(TK_SAM_FILE)"
	@$(INSTALL_DATA) $(TK_SAM_FILE) $(DESTDIR)$(LIB_DIR)/$(TK_SAM_FILE)
	@echo "Installing $(TCL_SAM_FILE) as $(DESTDIR)$(LIB_DIR)/$(TCL_SAM_FILE)"
	@$(INSTALL_DATA) $(TCL_SAM_FILE) $(DESTDIR)$(LIB_DIR)/$(TCL_SAM_FILE)
	@echo ""
	@echo "Installing $(TIX_SAMEXE_FILE) as $(DESTDIR)$(BIN_DIR)/$(INST_TIX_SAMEXE)"
	@$(INSTALL_PROGRAM) $(TIX_SAMEXE_FILE) $(DESTDIR)$(BIN_DIR)/$(INST_TIX_SAMEXE)
	@echo "Installing $(TK_SAMEXE_FILE) as $(DESTDIR)$(BIN_DIR)/$(INST_TK_SAMEXE)"
	@$(INSTALL_PROGRAM) $(TK_SAMEXE_FILE) $(DESTDIR)$(BIN_DIR)/$(INST_TK_SAMEXE)
	@echo "Installing $(TCL_SAMEXE_FILE) as $(DESTDIR)$(BIN_DIR)/$(INST_TCL_SAMEXE)"
	@$(INSTALL_PROGRAM) $(TCL_SAMEXE_FILE) $(DESTDIR)$(BIN_DIR)/$(INST_TCL_SAMEXE)

_install_sam_lib_: $(SAM_TARGETS)
	@for i in $(LIB_DIR) $(BIN_DIR) ; \
	    do \
	    if [ ! -d $(DESTDIR)$$i ] ; then \
		echo "Making directory $$i"; \
		mkdir $(DESTDIR)$$i; \
		chmod 755 $(DESTDIR)$$i; \
		else true; \
		fi; \
	    done;
	@echo "Installing $(TIX_SAM_FILE) as $(DESTDIR)$(LIB_DIR)/$(TIX_SAM_FILE)"
	@$(INSTALL_DATA) $(TIX_SAM_FILE) $(DESTDIR)$(LIB_DIR)/$(TIX_SAM_FILE)


install: _install_
	@echo The binary files have been installed.
	@echo You probably need to make install in the parent directory
	@echo to install other files.

sam_clean:
	rm -f tixSamLib.c $(UNIX_DIR)/tixBitmaps.c

clean: 
	rm -f *.so *.a *.o *_s.o core errs *~ \#* TAGS *.E sta* \
	    a.out errors $(TIX_EXE_FILE) $(TIX_LIB_FILE) *.bak \
	    $(SAM_TARGETS) tclSamLib.c tkSamLib.c

distclean: clean
	rm -f Makefile config.* lib.exp pkgIndex.tcl

depend:
	makedepend -- $(CC_SWITCHES) -- $(SRCS)

# CYGNUS LOCAL: Makefile depends upon config.status
Makefile: Makefile.in config.status
	./config.status

.c.o:
	$(CC) -c $(CC_SWITCHES) $<

# CYGNUS LOCAL: Rebuild config.status when appropriate.
config.status: configure
	$(SHELL) config.status --recheck

# DO NOT DELETE THIS LINE -- make depend depends on it.

